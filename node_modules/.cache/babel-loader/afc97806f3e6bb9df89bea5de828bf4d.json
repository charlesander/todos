{"ast":null,"code":"import _classCallCheck from\"/Applications/MAMP/htdocs/test/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Applications/MAMP/htdocs/test/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Applications/MAMP/htdocs/test/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Applications/MAMP/htdocs/test/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Applications/MAMP/htdocs/test/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import ReactDOM from'react-dom';import axios from'axios';import*as serviceWorker from'./serviceWorker';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);function App(){var _getPrototypeOf2;var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(App)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={todos:[],todosSearch:[],users:[],searchTerm:\"\"};return _this;}_createClass(App,[{key:\"componentWillMount\",/**\n     * On initalization, load the todos and users into state\n     */value:function componentWillMount(){this.getTodos().then(this.getUsers());}/**\n     * read the todos and put them into state as todosSearch and todos\n     * @returns {Promise.<TResult>|*|any|Promise<U>|never}\n     */},{key:\"getTodos\",value:function getTodos(){var _this2=this;return axios.get('https://jsonplaceholder.typicode.com/todos').then(function(response){var todos=response.data;_this2.setState({todosSearch:todos,todos:todos});});}/**\n     * read the users and put them into state\n     */},{key:\"getUsers\",value:function getUsers(){var _this3=this;axios.get('https://jsonplaceholder.typicode.com/users').then(function(response){_this3.setState({users:response.data});});}/**\n     * In the listing of todos, highlight parts of the todo's title that matches the search term\n     * @param title\n     * @returns {{__html: *}}\n     */},{key:\"createSearchHighlighting\",value:function createSearchHighlighting(title){var titleSearchHighlighted=title;if(this.state.searchTerm.length>0){titleSearchHighlighted=titleSearchHighlighted.replace(new RegExp(this.state.searchTerm,'g'),'<span class=\"searchHighlight\">'+this.state.searchTerm+'</span>');}return{__html:titleSearchHighlighted};}/**\n     * Provide html for presenting the list of todos\n     * @returns {Array}\n     */},{key:\"formatTodosListing\",value:function formatTodosListing(){var _this4=this;var todos=this.state.todosSearch.map(function(todo){var user=_this4.state.users.find(function(user){return user.id===todo.userId;});todo.userName=user&&user.name?user.name:\"Unknown\";return React.createElement(\"tr\",{key:todo.id},React.createElement(\"th\",null,todo.id),React.createElement(\"th\",null,todo.userName),React.createElement(\"th\",{dangerouslySetInnerHTML:_this4.createSearchHighlighting(todo.title)}),React.createElement(\"th\",null,todo.completed?\"Yes\":\"No\"),React.createElement(\"th\",null,React.createElement(\"button\",{className:\"btn btn-danger\",onClick:_this4.deleteTodo.bind(_this4,todo.id)},\"Delete\")));});return todos;}/**\n     *\n     * @param event\n     */},{key:\"search\",value:function search(event){this.setState({searchTerm:event.target.value});var todos=this.state.todos.filter(function(todo){return todo.title.includes(event.target.value);});this.setState({todosSearch:todos});}/**\n     *\n     * @param id\n     */},{key:\"deleteTodo\",value:function deleteTodo(id){var todos=this.state.todosSearch.filter(function(todo){return todo.id!==id;});var todosBackup=this.state.todos.filter(function(todoBackup){return todoBackup.id!==id;});this.setState({todosSearch:todos,todos:todosBackup});}/**\n     *\n     * @returns {XML}\n     */},{key:\"render\",value:function render(){var todos=this.formatTodosListing();return React.createElement(\"div\",{className:\"App container\"},React.createElement(\"input\",{type:\"text\",placeholder:\"Search\",onChange:this.search.bind(this)}),React.createElement(\"table\",null,React.createElement(\"thead\",null,React.createElement(\"tr\",null,React.createElement(\"th\",null,\"ID\"),React.createElement(\"th\",null,\"User\"),React.createElement(\"th\",null,\"Title\"),React.createElement(\"th\",null,\"Completed\"),React.createElement(\"th\",null,\"Actions\"))),React.createElement(\"tbody\",null,todos)));}}]);return App;}(Component);//export default App;\nReactDOM.render(React.createElement(App,null),document.getElementById('root'));// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();","map":{"version":3,"sources":["/Applications/MAMP/htdocs/test/src/index.js"],"names":["React","Component","ReactDOM","axios","serviceWorker","App","state","todos","todosSearch","users","searchTerm","getTodos","then","getUsers","get","response","data","setState","title","titleSearchHighlighted","length","replace","RegExp","__html","map","todo","user","find","id","userId","userName","name","createSearchHighlighting","completed","deleteTodo","bind","event","target","value","filter","includes","todosBackup","todoBackup","formatTodosListing","search","render","document","getElementById","unregister"],"mappings":"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","sourcesContent":["import React, {Component}  from 'react';\nimport ReactDOM from 'react-dom';\nimport axios from 'axios';\nimport * as serviceWorker from './serviceWorker';\n\nclass App extends Component {\n\n    /**\n     * Hold the state of the App.\n     * When variables in state are changed, the changes are automatically applied to the DOM by React:\n     * todos: the original list of downloaded todos\n     * todosSearch: the list of downloaded todos, filtered to only contain those that match the search\n     * users: the original list of downloaded users\n     * searchTearm: tracks the current search term\n     * @type {{todos: Array, todosSearch: Array, users: Array, searchTerm: string}}\n     */\n    state = {\n        todos: [],\n        todosSearch: [],\n        users: [],\n        searchTerm: \"\",\n    }\n\n    /**\n     * On initalization, load the todos and users into state\n     */\n    componentWillMount() {\n        this.getTodos()\n            .then(this.getUsers())\n    }\n\n    /**\n     * read the todos and put them into state as todosSearch and todos\n     * @returns {Promise.<TResult>|*|any|Promise<U>|never}\n     */\n    getTodos() {\n        return axios.get('https://jsonplaceholder.typicode.com/todos').then((response) => {\n\n            let todos = response.data;\n            this.setState({\n                todosSearch: todos,\n                todos: todos\n            })\n        });\n    }\n\n    /**\n     * read the users and put them into state\n     */\n    getUsers() {\n        axios.get('https://jsonplaceholder.typicode.com/users').then((response) => {\n            this.setState({\n                users: response.data\n            })\n        });\n    }\n\n    /**\n     * In the listing of todos, highlight parts of the todo's title that matches the search term\n     * @param title\n     * @returns {{__html: *}}\n     */\n    createSearchHighlighting(title) {\n\n        let titleSearchHighlighted = title;\n        if (this.state.searchTerm.length > 0) {\n            titleSearchHighlighted = titleSearchHighlighted.replace(\n                new RegExp(this.state.searchTerm, 'g'),\n                '<span class=\"searchHighlight\">' + this.state.searchTerm + '</span>'\n            );\n        }\n\n        return {__html: titleSearchHighlighted};\n    }\n\n    /**\n     * Provide html for presenting the list of todos\n     * @returns {Array}\n     */\n    formatTodosListing() {\n        let todos = this.state.todosSearch.map((todo) => {\n\n            var user = this.state.users.find(function (user) {\n                return user.id === todo.userId;\n            });\n\n            todo.userName = (user && user.name) ? user.name : \"Unknown\";\n\n            return (\n                <tr key={todo.id}>\n                    <th>{todo.id}</th>\n                    <th>{todo.userName}</th>\n                    <th dangerouslySetInnerHTML={this.createSearchHighlighting(todo.title)}></th>\n                    <th>{todo.completed ? \"Yes\" : \"No\"}</th>\n                    <th>\n                        <button className=\"btn btn-danger\"\n                                onClick={this.deleteTodo.bind(this, todo.id)}>Delete\n                        </button>\n                    </th>\n                </tr>\n            )\n        });\n        return todos;\n    }\n\n    /**\n     *\n     * @param event\n     */\n    search(event) {\n\n        this.setState({\n            searchTerm: event.target.value\n        });\n\n        let todos = this.state.todos.filter(function (todo) {\n            return todo.title.includes(event.target.value)\n        });\n        this.setState({\n            todosSearch: todos\n        });\n    }\n\n    /**\n     *\n     * @param id\n     */\n    deleteTodo(id) {\n\n        let todos = this.state.todosSearch.filter(function (todo) {\n            return todo.id !== id\n        });\n        let todosBackup = this.state.todos.filter(function (todoBackup) {\n            return todoBackup.id !== id\n        });\n        this.setState({\n            todosSearch: todos,\n            todos: todosBackup\n        });\n    }\n\n    /**\n     *\n     * @returns {XML}\n     */\n    render() {\n\n        let todos = this.formatTodosListing();\n\n        return (\n\n            <div className=\"App container\">\n\n                <input type=\"text\" placeholder=\"Search\" onChange={this.search.bind(this)}/>\n                <table>\n                    <thead>\n                    <tr>\n                        <th>ID</th>\n                        <th>User</th>\n                        <th>Title</th>\n                        <th>Completed</th>\n                        <th>Actions</th>\n                    </tr>\n                    </thead>\n                    <tbody>\n                    {todos}\n                    </tbody>\n                </table>\n            </div>\n        );\n    }\n}\n\n//export default App;\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"]},"metadata":{},"sourceType":"module"}